---
# tasks file for roles/omero-web-runtime

- name: omero web | install python packages
  become: yes
  yum:
    name: "{{ item }}"
    state: latest
  with_items:
    - python-pip
    - python-pillow

# Uninstall python module rpms that will be replaced with a pip installed version
- name: omero web | remove python packages
  become: yes
  yum:
    name: "{{ item }}"
    state: absent
  with_items:
    - python-gunicorn

- name: omero web | pip install packages
  become: yes
  pip:
    name: "{{ item }}"
    state: present
  with_items:
    - "django>=1.8,<1.9"
    - "gunicorn>=19.3"
